/**
 * Delete question item js logic.
 *
 * @copyright  2021 onwards Willian Mano {@link http://conecti.me}
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("mod_cfp/deletequestion",["jquery","core/ajax","core/str","mod_cfp/sweetalert"],(function($,Ajax,Str,Swal){var STRINGS={CONFIRM_TITLE:"Are you sure?",CONFIRM_MSG:"Once deleted, this item cannot be recovered!",CONFIRM_YES:"Yes, delete it!",CONFIRM_NO:"Cancel",SUCCESS:"Item successfully deleted."},componentStrings=[{key:"deletequestion_confirm_title",component:"mod_cfp"},{key:"deletequestion_confirm_msg",component:"mod_cfp"},{key:"deletequestion_confirm_yes",component:"mod_cfp"},{key:"deletequestion_confirm_no",component:"mod_cfp"},{key:"deletequestion_success",component:"mod_cfp"}],DeleteQuestion=function(){this.getStrings(),this.registerEventListeners()};return DeleteQuestion.prototype.getStrings=function(){var stringsPromise=Str.get_strings(componentStrings);$.when(stringsPromise).done((function(strings){STRINGS.CONFIRM_TITLE=strings[0],STRINGS.CONFIRM_MSG=strings[1],STRINGS.CONFIRM_YES=strings[2],STRINGS.CONFIRM_NO=strings[3],STRINGS.SUCCESS=strings[4]}))},DeleteQuestion.prototype.registerEventListeners=function(){$("body").on("click",".delete-question",function(event){event.preventDefault();var eventTarget=$(event.currentTarget);Swal.fire({title:STRINGS.CONFIRM_TITLE,text:STRINGS.CONFIRM_MSG,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:STRINGS.CONFIRM_YES,cancelButtonText:STRINGS.CONFIRM_NO}).then(function(result){result.value&&this.deleteGradeitem(eventTarget)}.bind(this))}.bind(this))},DeleteQuestion.prototype.deleteGradeitem=function(eventTarget){Ajax.call([{methodname:"mod_cfp_deletequestion",args:{question:{id:eventTarget.data("id")}}}])[0].done(function(){this.removeGradeItemLine(eventTarget)}.bind(this)).fail(function(error){var message=error.message;message||(message=error.error),this.showToast("error",message)}.bind(this))},DeleteQuestion.prototype.removeGradeItemLine=function(eventTarget){eventTarget.closest("tr").fadeOut("normal",(function(){$(this).remove()})),this.showToast("success",STRINGS.SUCCESS)},DeleteQuestion.prototype.showToast=function(type,message){Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:8e3,timerProgressBar:!0,onOpen:function(toast){toast.addEventListener("mouseenter",Swal.stopTimer),toast.addEventListener("mouseleave",Swal.resumeTimer)}}).fire({icon:type,title:message})},{init:function(){return new DeleteQuestion}}}));

//# sourceMappingURL=deletequestion.min.js.map